(this.webpackJsonpr34inf=this.webpackJsonpr34inf||[]).push([[7],{190:function(n,e,t){"use strict";t.d(e,"a",(function(){return l})),t.d(e,"b",(function(){return u}));var r,c,i=t(5),o=t(3),a=t(43),s=t(20),l=o.d.div(r||(r=Object(i.a)(["\n  ","\n  width: 100%;\n  min-height: 100%;\n"])),s.d),u=Object(o.d)(l)(c||(c=Object(i.a)(["\n  ","\n"])),a.b)},192:function(n,e,t){"use strict";t.d(e,"a",(function(){return i}));var r=t(1),c=t.n(r);function i(n){c.a.useEffect((function(){document.title=n}),[n])}},193:function(n,e,t){"use strict";t.d(e,"a",(function(){return F}));var r=t(5),c=t(3),i=t(4);function o(n){var e=Object(c.f)();return Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n.size,height:n.size,viewBox:"0 0 12.7 12.7",className:n.className,children:Object(i.jsxs)("g",{transform:"translate(0,-284.3)",children:[Object(i.jsx)("circle",{id:"path18",cx:"6.3499999",cy:"290.65002",fill:"none",stroke:e.colors.accentColor,strokeWidth:"0.50848764",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1",r:"6.0957561"}),Object(i.jsx)("text",{fontStyle:"normal",fontWeight:"normal",fontSize:"8.3113203px",fontFamily:"sansSerif",letterSpacing:"0px",wordSpacing:"0px",fill:e.colors.accentColor,fillOpacity:"1",x:"2.1363549",y:"289.02704",id:"text4533",transform:"scale(0.98538224,1.0148346)",children:Object(i.jsx)("tspan",{id:"tspan4531",x:"2",y:"289.1",fontStyle:"normal",fontVariant:"normal",fontWeight:"300",fontStretch:"normal",fontFamily:"Calibri",fill:e.colors.accentColor,fillOpacity:"1",children:"34"})})]})})}var a=t(43),s=t(20),l=t(90),u=t(63),d=t(1),b=t.n(d),j=t(10);var f=t(27);function O(){var n=Object(c.f)();return function(n){var e=b.a.useState(window.navigator.onLine),t=Object(j.a)(e,2),r=t[0],c=t[1];return b.a.useEffect((function(){var e=function(){var e;c(!0),null===n||void 0===n||null===(e=n.onOnline)||void 0===e||e.call(n)};return window.addEventListener("online",e),function(){return window.removeEventListener("online",e)}})),b.a.useEffect((function(){var e=function(){var e;c(!1),null===n||void 0===n||null===(e=n.onOffline)||void 0===e||e.call(n)};return window.addEventListener("offline",e),function(){return window.removeEventListener("offline",e)}})),r}()?Object(i.jsx)("div",{}):Object(i.jsx)(f.o,{title:"You are offline",color:n.colors.negative})}var h,p,v,m,x,g=t(93),w=t(24),y=t(37),S=c.d.nav(h||(h=Object(r.a)(["\n  ","\n  place-content: center;\n"])),s.f),k=Object(c.d)(g.b)((function(n){var e=n.to,t=n.current,i=n.theme;return Object(c.c)(p||(p=Object(r.a)(["\n    ","\n    color: ",";\n    border-bottom: solid transparent ",";\n    border-bottom-color: ",";\n    border-radius: 0px;\n  "])),s.a,e===t?i.colors.accentColor:i.colors.text,i.dimensions.borderWidth,e===t?Object(c.c)(v||(v=Object(r.a)(["\n          ","\n        "])),i.colors.accentColor):"none")}));function C(){var n=Object(w.g)().pathname;return Object(i.jsxs)(S,{children:[Object(i.jsx)(k,{current:n,to:y.c.SEARCH,children:Object(i.jsx)("span",{children:"\u041f\u043e\u0438\u0441\u043a"})}),Object(i.jsx)(k,{current:n,to:y.c.PREFERENCES,children:Object(i.jsx)("span",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})})]})}var E=c.d.header((function(n){var e=n.theme;return Object(c.c)(m||(m=Object(r.a)(["\n    ","\n    background: ",";\n  "])),s.d,e.colors.layerBgSolid)})),R=c.d.div((function(n){var e=n.theme;return Object(c.c)(x||(x=Object(r.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    ","\n\n    > :first-child,\n    > :last-child {\n      width: ",";\n    }\n  "])),a.b,e.dimensions.blockHeight)}));function F(){return Object(i.jsxs)(E,{role:"cell",children:[Object(i.jsxs)(R,{children:[Object(i.jsx)("div",{}),Object(i.jsxs)(l.a,{children:[Object(i.jsx)(o,{size:32}),Object(i.jsx)(u.a,{children:"Rule34 Infinite"})]}),Object(i.jsx)(O,{})]}),Object(i.jsx)(C,{})]})}},197:function(n,e,t){"use strict";t.d(e,"a",(function(){return b}));var r=t(10),c=t(1),i=t.n(c),o=t(202),a=t(92),s=t(7),l=t.n(s),u=t(14);function d(){return(d=Object(u.a)(l.a.mark((function n(e){var t,r,c,i;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=(new TextEncoder).encode(e),n.next=3,crypto.subtle.digest("SHA-256",t);case 3:return r=n.sent,c=Array.from(new Uint8Array(r)),i=c.map((function(n){return n.toString(16).padStart(2,"0")})).join(""),n.abrupt("return",i);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function b(){var n=i.a.useState({}),e=Object(r.a)(n,2),t=e[0],c=e[1],s=i.a.useState(),l=Object(r.a)(s,2),u=l[0],b=l[1],j=Object(a.a)(),f=Object(r.a)(j,2)[1];return i.a.useEffect((function(){(null===f||void 0===f?void 0:f.email)&&function(n){return d.apply(this,arguments)}(f.email).then((function(n){var e=o.a.firestore().collection("users/".concat(n,"/supertags"));return b(e),e.get()})).then((function(n){var e=n.docs.reduce((function(n,e){return n[e.id]=e.data(),n}),{});c(e)})).catch((function(n){console.error("Error with useSupertags",n)}))}),[null===f||void 0===f?void 0:f.email]),i.a.useEffect((function(){if(u){var n=u.onSnapshot((function(n){var e=n.docs.reduce((function(n,e){return n[e.id]=e.data(),n}),{});c(e)}));return function(){n()}}}),[u]),t}},217:function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return J}));var r,c,i,o,a,s,l,u,d=t(10),b=t(5),j=t(1),f=t.n(j),O=t(24),h=t(3),p=t(19),v=t(38),m=t(192),x=t(27),g=t(33),w=t(190),y=t(94),S=t(63),k=t(193),C=t(95),E=t(37),R=t(20),F=t(28),I=t(92),L=t(197),T=t(4),W=Object(h.d)(w.b)(r||(r=Object(b.a)(["\n  place-content: center;\n  align-items: center;\n  place-content: center;\n  flex-grow: 1;\n"]))),z=Object(h.d)(y.b)((function(n){var e=n.theme;return Object(h.c)(c||(c=Object(b.a)(["\n    grid-template-rows: auto auto auto 1fr;\n    grid-template-columns: 1fr auto;\n    padding: ",";\n    justify-content: center;\n    max-width: ",";\n  "])),e.dimensions.hugeSpacing,e.dimensions.modalWidth)})),A=Object(h.d)(S.d)(i||(i=Object(b.a)(["\n  text-align: left;\n  grid-area: 1/1/2/2;\n"]))),M=Object(h.d)(S.b)(o||(o=Object(b.a)(["\n  grid-area: 2/1/3/3;\n"]))),H=Object(h.d)(g.e)(a||(a=Object(b.a)(["\n  grid-area: 1/2/2/3;\n"]))),N=Object(h.d)(S.b)(s||(s=Object(b.a)(["\n  overflow-x: auto;\n  white-space: nowrap;\n  mask-image: linear-gradient(90deg, #000 95%, transparent);\n  ::-webkit-scrollbar {\n    height: 0px;\n  }\n"]))),Y=h.d.span((function(n){var e=n.theme;return Object(h.c)(l||(l=Object(b.a)(["\n    ","\n    ","\n    padding: ",";\n    color: ",";\n    grid-area: 3/1/4/3;\n    cursor: pointer;\n\n    :active,\n    :active > span {\n      color: ",";\n    }\n  "])),R.f,F.e,e.dimensions.bigSpacing,e.colors.subduedText,e.colors.accentColor)})),B=Object(h.d)(C.a)(u||(u=Object(b.a)(["\n  grid-area: 4/1/5/3;\n"]))),D=function(n){};function J(){var n=Object(O.g)(),e=Object(p.b)(n.search),t=e.name,r=e.description,c=e.tags;Object(m.a)("Rule34 Infinite - ".concat(t));var i=f.a.useMemo((function(){return Object.entries(c).reduce((function(n,e){var t=Object(d.a)(e,2),r=t[0],c=t[1];return n[r]={name:r,modifier:c,types:[]},n}),{})}),[c]),o=f.a.useCallback((function(){navigator.permissions.query({name:"clipboard-write"}).then((function(n){"granted"!==n.state&&"prompt"!==n.state||navigator.clipboard.writeText(window.location.href).then((function(){}),(function(){console.warn("Failed to write to clipboard")}))}))}),[]),a=Object(I.a)(),s=Object(d.a)(a,1)[0],l=Object(L.a)(),u=f.a.useCallback((function(){Object(v.a)(t,r,c).then((function(){})).catch((function(n){return console.error("Failed to import supertag",n)}))}),[r,t,c]),b=f.a.useCallback((function(){return Object(v.f)(t)}),[t]),j=f.a.useMemo((function(){return s&&t in l}),[t,s,l]);return Object(T.jsxs)(w.a,{children:[Object(T.jsx)(k.a,{}),Object(T.jsxs)(W,{children:[Object(T.jsx)(S.d,{children:"Supertag"}),Object(T.jsxs)(z,{children:[Object(T.jsx)(A,{children:t}),Object(T.jsx)(M,{children:r}),j?Object(T.jsxs)(H,{disabled:!s,title:s?"Remove from your collection":"You need to be signed in",onClick:b,children:[Object(T.jsx)(x.D,{})," Imported"]}):Object(T.jsxs)(H,{disabled:!s,title:s?"Import into your collection":"You need to be signed in",onClick:u,children:[Object(T.jsx)(x.w,{})," Import"]}),Object(T.jsxs)(Y,{onClick:o,title:"Copy share url",children:[Object(T.jsx)(N,{id:"share-link",children:window.location.href}),Object(T.jsx)(x.i,{})]}),Object(T.jsx)(B,{tags:i,detailed:!1,onTagClick:D,onTagMenu:E.b})]})]})]})}}}]);
//# sourceMappingURL=7.df4a975c.chunk.js.map